<!doctype html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="application-name" content="TiddlyWiki Plugin Library" />
<meta name="application-version" content="v0.0.0" />
<meta name="copyright" content="Copyright 2015 Jeremy Ruston" />
<link id="faviconLink" rel="shortcut icon" href="favicon.ico">
<title>Plugin Library</title>
<script>
var assetList = [
    {
        "title": "$:/plugins/bimlas/kin-filter",
        "description": "Kin filter: Recursively looking for kinship between tiddler titles",
        "author": "bimlas",
        "version": "1.0.0",
        "core-version": ">=5.1.18",
        "source": "https://gitlab.com/bimlas/tw5-kin-filter",
        "plugin-type": "plugin",
        "list": "README/syntax README/examples",
        "dependents": "",
        "type": "application/json",
        "requires-reload": "yes"
    },
    {
        "title": "$:/plugins/bimlas/locator",
        "description": "Locator: Discover and search by context",
        "author": "bimlas",
        "version": "2.0.0",
        "core-version": ">=5.1.18",
        "source": "https://gitlab.com/bimlas/tw5-locator",
        "plugin-type": "plugin",
        "list": "README/README README/macros README/TIPS README/CHANGELOG",
        "dependents": "",
        "type": "application/json",
        "requires-reload": "yes"
    },
    {
        "title": "$:/plugins/dullroar/sitemap",
        "description": "TiddlyWiki5 plugin to generate sitemap.xml.",
        "author": "Jim Lehmer",
        "version": "0.0.2",
        "core-version": ">=5.0.8",
        "source": "https://github.com/dullroar/TW5-sitemap",
        "plugin-type": "plugin",
        "dependents": "",
        "type": "application/json",
        "requires-reload": "yes"
    },
    {
        "title": "$:/plugins/felixhayashi/hotzone",
        "description": "HotZone – Be notified when tiddlers are scrolled into view",
        "author": "Felix Küppers",
        "version": "0.0.3",
        "released": "",
        "core-version": ">=5.1.5",
        "source": "https://github.com/felixhayashi/TW5-HotZone",
        "type": "application/json",
        "plugin-type": "plugin",
        "list": "Configuration License Readme",
        "dependents": "",
        "requires-reload": "yes"
    },
    {
        "title": "$:/plugins/felixhayashi/tiddlymap",
        "description": "TiddlyMap – Map drawing and topic visualization for your wiki",
        "author": "Felix Küppers",
        "version": "0.17.7+9982",
        "released": "Sun, 31 May 2020 07:04:54 GMT",
        "core-version": ">=5.1.5",
        "source": "https://github.com/felixhayashi/TW5-TiddlyMap",
        "type": "application/json",
        "plugin-type": "plugin",
        "list": "readme license",
        "dependents": "$:/plugins/felixhayashi/vis",
        "depends": "$:/plugins/felixhayashi/vis",
        "suggested": "$:/plugins/felixhayashi/topstoryview",
        "readme": "* Please refer to the project-readme hosted at [[https://github.com/felixhayashi/TW5-TiddlyMap]].\n* A demo with several examples and explanations can be found at [[http://tiddlymap.org]].",
        "requires-reload": "yes"
    },
    {
        "title": "$:/plugins/felixhayashi/topstoryview",
        "description": "TopStoryView – Always scroll navigated tiddlers to the top",
        "author": "Felix Küppers",
        "version": "0.2.0",
        "released": "",
        "core-version": ">=5.1.5",
        "source": "https://github.com/felixhayashi/TW5-TopStoryView",
        "type": "application/json",
        "plugin-type": "plugin",
        "list": "Configuration License Readme",
        "dependents": "",
        "requires-reload": "yes"
    },
    {
        "title": "$:/plugins/felixhayashi/vis",
        "description": "Visjs – TiddlyWiki5 plugin for the vis.js library",
        "author": "Felix Küppers",
        "version": "4.17.0",
        "core-version": ">=5.0.0",
        "source": "https://github.com/felixhayashi/TW5-Vis.js",
        "type": "application/json",
        "plugin-type": "plugin",
        "list": "readme",
        "dependents": "",
        "readme": "! TW5-Vis.js\n\nA tiddlywiki plugin for the vis.js library.\n\n---\n\n! Notes on Copyright\n\n!! TiddlyWiki\n\nCreated by Jeremy Ruston, (jeremy [at] jermolene [dot] com)\n\nCopyright © Jeremy Ruston 2004-2007 Copyright © UnaMesa Association 2007-2014\n\nPublished under the following [licenses](https://github.com/Jermolene/TiddlyWiki5/tree/master/licenses):\n\n1. BSD 3-clause \"New\" or \"Revised\" License (including any right to adopt any future version of a license if permitted)\n2. Creative Commons Attribution 3.0 (including any right to adopt any future version of a license if permitted)\n\n!! The **vis.js** library\n\nCopyright (c) 2014 [Almende B.V.](https://github.com/almende/vis)\n\nPublished under the following licenses:\n\n1. Apache License Version 2.0, January 2004 http://www.apache.org/licenses/\n2. MIT License (MIT)\n",
        "requires-reload": "yes"
    },
    {
        "name": "Relink",
        "title": "$:/plugins/flibbles/relink",
        "description": "Flexibility when relinking renamed tiddlers",
        "author": "Flibbles",
        "version": "1.10.0",
        "core-version": ">=5.1.14",
        "source": "https://github.com/flibbles/tw5-relink",
        "demo": "http://flibbles.github.io/tw5-relink/",
        "list": "readme configuration",
        "dependents": "",
        "plugin-type": "plugin",
        "type": "application/json",
        "readme": "When renaming a tiddler, Relink can update the fields, filters, and widgets\nof all other tiddlers. However, it works through whitelisting.\n\nIt's already configured to update tiddler titles for all core widgets, filters,\nand fields, but the whitelists can be customized for each of this in the\nconfiguration panel.\n\nSee <a href={{$:/plugins/flibbles/relink!!source}}>the tw5-relink website</a> for more details and examples.\n",
        "requires-reload": "yes"
    },
    {
        "name": "Relink Markdown",
        "title": "$:/plugins/flibbles/relink-markdown",
        "description": "Markdown support for Relink",
        "author": "Flibbles",
        "version": "1.10.0",
        "core-version": ">=5.1.14",
        "parent-plugin": "$:/plugins/flibbles/relink",
        "source": "https://github.com/flibbles/tw5-relink",
        "list": "readme",
        "dependents": "",
        "plugin-type": "plugin",
        "type": "application/json",
        "readme": "Markdown support for Relink.\n\n...or Relink support for Markdown.\n\nThis supplimental plugin allows ''text/x-markdown'' files to be relinked. This means markdown linking syntax like `[Caption](#MyTiddler)` is supported. If your markdown supports wikitext markup as well, this will handle that too.\n\nThis plugin is designed for `tiddlywiki/markdown`, but it will also work for `anstosa/tw5-markdown` and others.\n",
        "requires-reload": "yes"
    },
    {
        "title": "$:/plugins/linonetwo/copy-on-select",
        "description": "Copy what you are selecting inside the wiki into the clipboard",
        "author": "LinOnetwo",
        "core-version": ">=5.1.22",
        "plugin-type": "plugin",
        "version": "0.0.1",
        "list": "readme",
        "dependents": "",
        "type": "application/json",
        "readme": "!! 动机\n\n我已经习惯了用方便的[[Copy On Select|https://addons.mozilla.org/en-US/firefox/addon/copy-on-select]] Firefox 插件，现在到了 TiddlyWiki 里我经常还是以为选中了就复制了，然后黏贴到别的地方才发现其实并没有复制，很不习惯。\n\n所以我自己重新写了一个适配 TiddlyWiki 的选中即复制脚本。\n\n!! 用法\n\n选中编辑器、按钮等区域以外的任何文本都会直接复制。\n\n这个插件里的条件语句让它在编辑器等特殊区域内不会起作用，以免干扰「全选黏贴覆盖原有内容」等操作。\n",
        "requires-reload": "no"
    },
    {
        "title": "$:/plugins/linonetwo/opened-tiddlers-bar",
        "name": "Opened Tiddlers Bar",
        "description": "VSCode style opened files top bar",
        "author": "LinOnetwo",
        "core-version": ">=5.1.22",
        "plugin-type": "plugin",
        "version": "0.0.1",
        "list": "Readme LICENSE",
        "dependents": "",
        "type": "application/json",
        "requires-reload": "no"
    },
    {
        "title": "$:/plugins/linonetwo/prevent-edit",
        "description": "Prevent \"This page is asking you to confirm that you want to leave\" in a read-only site",
        "author": "LinOnetwo",
        "core-version": ">=5.1.22",
        "plugin-type": "plugin",
        "version": "0.0.1",
        "list": "readme",
        "dependents": "",
        "type": "application/json",
        "readme": "!! 功能\n\n这个插件主要是让在线部署后的 Wiki 不会弹出「有变动关闭网页前请保存」这样的对话框。\n\n!! 动机\n\n来自 TiddlyMap 的 [[$:/plugins/felixhayashi/tiddlymap/misc/defaultViewHolder]] 和来自系统的 [[$:/StoryList]] 老是自动变：\n\n```diff\ncreated: 20200409022623558\ncreator: Lin Onetwo - 林一二\n-modified: 20200414104033109\n+modified: 20200414135126182\nmodifier: Lin Onetwo - 林一二\ntitle: $:/plugins/felixhayashi/tiddlymap/misc/defaultViewHolder\ntype: text/vnd.tiddlywiki\n```\n\n没有实质性的变化，而且又经常发生在 wiki 部署后，这样在线版 wiki 就会弹出「This page is asking you to confirm that you want to leave - data you have entered may not be saved」。\n\n但我只是想做浏览不想做编辑啊，这让我觉得很烦。\n\n后来发现原来是 onbeforeunload 导致的，[[我去仓库里搜到了|https://github.com/Jermolene/TiddlyWiki5/search?q=beforeunload&unscoped_q=beforeunload]]是 `$tw.utils.each($tw.unloadTasks` 在用它，所以我就过滤了一下 `$tw.unloadTasks`。而且还不能立即做这个过滤，因为 `$:/tags/RawMarkup` 是在沙盒里执行的，不能修改 `$tw` 。\n\n所以最终我跟着 [[Adding Babel Polyfill to TiddlyWiki|https://tiddlywiki.com/dev/#Adding%20Babel%20Polyfill%20to%20TiddlyWiki]] 这篇教程，加了一个 startup script，在启动时、上述代码之后，就清理掉那个导致弹窗的 unloadTask，世界终于清静了。\n\n最终，我把它包装成了这个 [[prevent-edit|$:/plugins/linonetwo/prevent-edit]] 插件。\n",
        "requires-reload": "yes"
    },
    {
        "title": "$:/plugins/linonetwo/sub-wiki",
        "name": "Private Tiddlers In Private Repo",
        "description": "Allow you make some tiddlers private, and store them in a private repo.",
        "author": "LinOnetwo",
        "core-version": ">=5.1.22",
        "plugin-type": "plugin",
        "version": "0.0.1",
        "list": "readme",
        "dependents": "",
        "type": "application/json",
        "readme": "!! Usage\n\nEdit `plugins/linonetwo/sub-wiki/FileSystemPaths.tid` using VSCode or automatically updated by TiddlyGitDesktop (instead of edit it from the TiddlyWiki) to be something like:\n\n```tid\n[!is[system]kin::to[APrivateContent]addprefix[subwiki/private-wiki/]]\n[!is[system]kin::to[Photos]addprefix[subwiki/private-wiki-photos/]]\n```\n",
        "requires-reload": "no"
    },
    {
        "title": "$:/plugins/linonetwo/watch-fs",
        "description": "Reload changed tiddlers from disc",
        "author": "LinOnetwo",
        "core-version": ">=5.1.22",
        "plugin-type": "plugin",
        "version": "0.0.1",
        "list": "readme",
        "dependents": "",
        "type": "application/json",
        "readme": "!! About\n\nThis plugin enables TiddlyWiki to watch the change in your disk, and if you edit one of your tiddler using editor likes VSCode and save it on the disk, the change will immediately reflected in the browser.\n\nSee [[https://github.com/Jermolene/TiddlyWiki5/issues/3060]] for related discussions.\n\n!! [[FileSystemMonitor.js|$:/plugins/linonetwo/watch-fs/FileSystemMonitor.js]]\n\nThis module watches the file system in the tiddlers folder and any changes to\nthe files in the folder that don't come from the browser are reported to the\nbrowser. So if you make a new .tid file in the tiddlers folder it will appear\nin the wiki in the browser without needing to restart the server. You can also\ndelete files to remove the tiddlers from the browser.\n\n!! Usage\n\nThis plugin will cause trouble if you build wiki with it enabled,\nso you have to remove it from your `tiddlywiki.info`, and add it to your wiki start arguments:\n\n```shell\ntiddlywiki +plugins/tiddlywiki/filesystem +plugins/tiddlywiki/tiddlyweb +plugins/linonetwo/watch-fs <path-to-wiki-folder> --listen\n```\n\n(why `+plugins/tiddlywiki/filesystem +plugins/tiddlywiki/tiddlyweb` here? See [[https://github.com/Jermolene/TiddlyWiki5/issues/4484#issuecomment-613200370]] for details)\n\n!!! Liminitation\n\n# can't handle rename in the disk, you can only rename from within the wiki (no such API to tell tw I've renamed a file)\n# I haven't tested this with [[$:/config/FileSystemPaths]] and [[Fix file info PR|https://github.com/Jermolene/TiddlyWiki5/pull/4630]] , but I use this feature every day, so I will definitely support it.\n# Can't handle if git change the tiddler while you are open its Draft tiddler (might be fixed by [[Deleting a draft tiddler should not also delete the original tiddler|https://github.com/Jermolene/TiddlyWiki5/issues/4792]] )\n\n!! Implementation Details\n\n!!! How to decide whether a change is comes from the browser?\n\nWe will compare disk file and wiki file, if there is any discrepancy,\nthen we know the change is not made from the wiki, it is made by git or VSCode, in this case we read data from the disc,\nand add data to the tiddlywiki.\n\n!!! How to sync changes to the browser?\n\nwe can't trigger sync from the server, so we have to set a smaller sync interval in the client side.\n\nSo this plugin ship with a large [[$:/config/SyncPollingInterval]] to disable the build-in sync,\nand we add a new route `/linonetwo/watch-fs-can-sync` to the simple server, it will return `true` or `false`,\nand browser will poll this route, to see if it needs to trigger a `$tw.syncer.syncFromServer()`.\n",
        "requires-reload": "yes"
    },
    {
        "title": "$:/plugins/mat/field-value-selector",
        "description": "Shows a dropdown listing existing field values for that field name.",
        "author": "Mat von TWaddle",
        "core-version": ">=5.1.22",
        "plugin-type": "plugin",
        "version": "0.0.1",
        "list": "readme",
        "dependents": "",
        "type": "application/json",
        "readme": "[[field-value-selector|$:/plugins/mat/field-value-selector]] is an EditView template that adds a small arrow button below the \"new fields\" area.\n\nWhen you fill in a custom field name and then click this button, you get a dropdown showing all existing field values for that field name.\n\nlist-before and list-after are special and instead showing lists of all viewtemplate titles and edittemplate titles for easy selection. This functionality was the main incentive for this 'plugin', because it is darn impossible to remember the template titles.\n\nInstalling this 'plugin' does not modify any shadow tiddlers (...which meant showing the button below the \"new fields\" area, instead of at a more prettily integrated position.) ",
        "requires-reload": "no"
    },
    {
        "title": "$:/plugins/souk21/commandpalette",
        "description": "Command palette",
        "author": "Souk21",
        "version": "0.0.5",
        "core-version": ">=5.0.8",
        "source": "https://github.com/souk21/TW-commandpalette",
        "plugin-type": "plugin",
        "dependents": "",
        "type": "application/json",
        "requires-reload": "yes"
    },
    {
        "title": "$:/plugins/tobibeer/appear",
        "description": "Create popups, sliders or accordion menus with the appear widget.",
        "author": "Tobias Beer",
        "version": "0.6.2",
        "core-version": ">=5.1.9",
        "source": "https://github.com/tobibeer/tw5-appear",
        "documentation": "https://tobibeer.github.io/tw5-appear",
        "plugin-type": "plugin",
        "requires": "",
        "list": "readme",
        "dependents": "",
        "type": "application/json",
        "readme": "This plugin provides the ''$appear'' widget that can render popups and sliders (inline or block) as well as accordion menus.\n\n!! Attributes\n; type\n: set to `popup` to have the content appear as a popup\n; show\n: the button label\n; hide\n: the hide button label\n; mode\n: either `block` or `inline`, with respect to the inner content\n: any other mode is interpreted as block mode, without the default styles applying, e.g. drop-shadows\n; once\n: allows to click the button once, then hides it (unless the state is deleted)\n; $state\n: the widget calculates a state for you, use this to append a simple id\n; state\n: alternatively, specify a fully qualified state\n; keep\n: make popups sticky when `yes` or `true`\n; handle / handler / variables\n: allows to take the popup contents out of the flow and render them elsewhere on the page\n: required to properly create popups in table cells and other constained elements\n: specify variables to take along\n\n<br>\n\n; documentation / examples / demos...\n: http://tobibeer.github.io/tw5-plugins#appear\n",
        "requires-reload": "yes"
    },
    {
        "title": "$:/themes/linonetwo/itonnote",
        "name": "ItonNote Theme",
        "version": "0.1.2",
        "author": "LinOnetwo",
        "core-version": ">=5.0.0",
        "plugin-type": "theme",
        "description": "Notion and VSCode inspired theme",
        "dependents": "$:/themes/tiddlywiki/vanilla",
        "plugin-priority": "1",
        "type": "application/json",
        "requires-reload": "no"
    }
];

/*\
title: $:/plugins/tiddlywiki/pluginlibrary/libraryserver.js
type: application/javascript
module-type: library

A simple HTTP-over-window.postMessage implementation of a standard TiddlyWeb-compatible server. It uses real HTTP to load the individual tiddler JSON files.

\*/
(function(){

/*jslint node: true, browser: true */
/*global $tw: false */
"use strict";

// Listen for window messages
window.addEventListener("message",function listener(event){
	console.log("plugin library: Received message from",event.origin);
	console.log("plugin library: Message content",event.data);
	switch(event.data.verb) {
		case "GET":
			if(event.data.url === "recipes/library/tiddlers.json") {
				// Route for recipes/library/tiddlers.json
				event.source.postMessage({
					verb: "GET-RESPONSE",
					status: "200",
					cookies: event.data.cookies,
					url: event.data.url,
					type: "application/json",
					body: JSON.stringify(assetList,null,4)
				},"*");
			} else if(event.data.url.indexOf("recipes/library/tiddlers/") === 0) {
				var url = "recipes/library/tiddlers/" + encodeURIComponent(removePrefix(event.data.url,"recipes/library/tiddlers/"));
				// Route for recipes/library/tiddlers/<uri-encoded-tiddler-title>.json
				httpGet(url,function(err,responseText) {
					if(err) {
						event.source.postMessage({
							verb: "GET-RESPONSE",
							status: "404",
							cookies: event.data.cookies,
							url: event.data.url,
							type: "text/plain",
							body: "Not found"
						},"*");
					} else {
						event.source.postMessage({
							verb: "GET-RESPONSE",
							status: "200",
							cookies: event.data.cookies,
							url: event.data.url,
							type: "application/json",
							body: responseText
						},"*");
					}
				});
			} else {
				event.source.postMessage({
					verb: "GET-RESPONSE",
					status: "404",
					cookies: event.data.cookies,
					url: event.data.url,
					type: "text/plain",
					body: "Not found"
				},"*");
			}
			break;
	}
},false);

// Helper to remove string prefixes
function removePrefix(string,prefix) {
	if(string.indexOf(prefix) === 0) {
		return string.substr(prefix.length);
	} else {
		return string;
	}
}

// Helper for HTTP GET
function httpGet(url,callback) {
	var http = new XMLHttpRequest();
	http.open("GET",url,true);
	http.onreadystatechange = function() {
		if(http.readyState == 4 && http.status == 200) {
			callback(null,http.responseText);
		}
	};
	http.send();
}

})();

</script>
</head>
<body><h1>HelloThere</h1><p>This is the TiddlyWiki plugin library. It is not intended to be opened directly in the browser.</p><p>See <a href="https://tiddlywiki.com/" target="_blank">https://tiddlywiki.com/</a> for details of how to install plugins.</p></body>
</html>